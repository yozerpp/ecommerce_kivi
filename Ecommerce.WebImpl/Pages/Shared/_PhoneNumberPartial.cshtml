@using Ecommerce.Entity.Common
@model Ecommerce.WebImpl.Pages.Shared._PhoneNumberPartial

<div class="phone-number-container">
    @if (Model.IsInput){
        <div class="input-group">
            <span class="input-group-text bg-light border-end-0">
                <i class="bi bi-telephone me-1"></i>+
            </span>
            <input class="form-control border-start-0 border-end-0" 
                   placeholder="Ülke Kodu" 
                   id="@(nameof(PhoneNumber.CountryCode))@(Model.Id??"")" 
                   type="tel" 
                   style="max-width: 100px;"/>
            <input class="form-control border-start-0" 
                   placeholder="Telefon Numarası" 
                   id="@(nameof(PhoneNumber.Number))@(Model.Id??"")" 
                   type="tel"/>
        </div>
    }
    else{
        <div onload="event.currentTarget.querySelector('.edit-control').classList.toggle('edit-control')" 
             class="d-flex align-items-center p-2 bg-light rounded border">
            <i class="bi bi-telephone me-2 text-muted"></i>
            <span id="@(nameof(PhoneNumber.CountryCode))@(Model.Id??"")" 
                  class="badge bg-secondary me-1">+@Model.PhoneNumber!.CountryCode</span>
            @if (Model.Editable){
                @await Html.PartialAsync(nameof(_EditablePartial), new _EditablePartial())
            }
            <span id="@(nameof(PhoneNumber.Number))@(Model.Id??"")" 
                  class="fw-medium">@Model.PhoneNumber.Number</span>
            @if (Model.Editable){
                @await Html.PartialAsync(nameof(_EditablePartial), new _EditablePartial())
            }
        </div>
    }
</div>
